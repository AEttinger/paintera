language: java

env:
  global:

matrix:
  include:
    - os: linux
      jdk: oraclejdk8
      sudo: true

cache:
  directories:
    - $HOME/.m2

install:
  - echo "deb http://download.opensuse.org/repositories/network:/messaging:/zeromq:/release-stable/Debian_9.0/ ./" | sudo tee -a /etc/apt/sources.list
  - wget https://download.opensuse.org/repositories/network:/messaging:/zeromq:/release-stable/Debian_9.0/Release.key -O- | sudo apt-key add
  - sudo apt update
  - sudo apt install -y libzmq3-dev
  - cd ..
  - git clone git://github.com/ClearVolume/ClearGL.git ClearGL
  - cd ClearGL
  - mvn install
  - cd ..
  - git clone -b RealARGBConverter-expose-alpha https://github.com/hanslovsky/imglib2.git
  - cd imglib2
  - mvn install
  - cd ..
  - git clone -b TransformAwareBufferedImageOverlayRenderer-with-background https://github.com/hanslovsky/bigdataviewer-core.git
  - cd bigdataviewer-core
  - mvn install
  - cd ..
  - git clone https://github.com/bigdataviewer/bigdataviewer-vistools.git
  - cd bigdataviewer-vistools
  - mvn install
  - cd ../bigcat

script: 
  - mvn clean install

#after_success:
#    - test $TRAVIS_PULL_REQUEST == "false" && test $TRAVIS_BRANCH == "master" && mvn deploy --settings settings.xml
